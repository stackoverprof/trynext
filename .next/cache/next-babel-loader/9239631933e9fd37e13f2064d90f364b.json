{"ast":null,"code":"function xdoc(idname) {\n  return document.getElementById(idname);\n} // Global Variables\n\n\nvar canvas = xdoc('canvas');\nvar ctx = canvas.getContext('2d');\nvar screenHeight = $(window).height() - 60;\nvar screenWidth = $(window).width();\nvar shapes = {};\nvar food = {};\nvar xdude = {};\nvar dude = {};\nvar shapeIndex = 0;\nvar score = 0;\nvar fallSpeed = 4;\nvar shapeGenerateSpeed = 100;\nvar accel = 5;\nvar boxspeed = 0;\nvar releaseShield = false;\nvar isGameOver = false;\nvar isSafeOver = false;\nvar igniteFoodOnce = true;\nvar greetinganimation = 0;\nvar igniteClear = true;\nvar animateDone = false;\nvar colorbox = \"rgb(210,210,210)\";\nvar colortrail0 = \"rgba(220,220,220,1)\";\nvar colortrail1 = \"rgba(220,220,220,0)\";\nvar newrankz = []; //MAIN DOM\n\nxdoc(\"instruction\").style.top = screenHeight - 38 + \"px\";\nxdoc(\"scoring\").style.top = screenHeight - 48 + \"px\";\nxdoc(\"scorlive\").style.top = 10 + \"px\";\nxdoc(\"buttonnewgame\").style.transform = `translateX(${screenWidth / 2}px)`;\nxdoc(\"rankcontainer\").style.filter = `opacity(0)`;\nxdoc(\"ohnobox\").style.visibility = \"hidden\";\nxdoc(\"ohnobox\").style.opacity = \"0\";\ndocument.getElementsByClassName('eachrank')[9].style.display = \"flex\";\nvar newposition = document.getElementsByClassName('newrank'); //glimpse EFFECTS\n\nfunction glimpse() {\n  setTimeout(() => {\n    xdoc('et').style.filter = \"opacity(1)\";\n    xdoc('et').style.transition = \"0.35s\";\n    setTimeout(() => {\n      xdoc('et').style.filter = \"opacity(0)\";\n    }, 200);\n  }, 0);\n  setTimeout(() => {\n    xdoc('nr').style.filter = \"opacity(1)\";\n    xdoc('nr').style.transition = \"0.35s\";\n    setTimeout(() => {\n      xdoc('nr').style.filter = \"opacity(0)\";\n    }, 200);\n  }, 150);\n  setTimeout(() => {\n    xdoc('bri').style.filter = \"opacity(1)\";\n    xdoc('bri').style.transition = \"0.35s\";\n    setTimeout(() => {\n      xdoc('bri').style.filter = \"opacity(0)\";\n    }, 200);\n  }, 400);\n}\n\nfunction glimpseSpecial() {\n  this.gli = () => {\n    xdoc('et').style.filter = \"opacity(1)\";\n    xdoc('et').style.transition = \"0.35s\";\n    setTimeout(() => {\n      xdoc('et').style.filter = \"opacity(0)\";\n    }, 200);\n    xdoc('nr').style.filter = \"opacity(1)\";\n    xdoc('nr').style.transition = \"0.35s\";\n    setTimeout(() => {\n      xdoc('nr').style.filter = \"opacity(0)\";\n    }, 200);\n    xdoc('bri').style.filter = \"opacity(1)\";\n    xdoc('bri').style.transition = \"0.35s\";\n    setTimeout(() => {\n      xdoc('bri').style.filter = \"opacity(0)\";\n    }, 200);\n  };\n\n  this.gli();\n  setTimeout(() => {\n    this.gli();\n    setTimeout(() => {\n      this.gli();\n    }, 600);\n  }, 600);\n} //KEDIP KEDIP\n\n\nwindow.addEventListener('load', () => {\n  setTimeout(() => {\n    setTimeout(() => {\n      xdoc('et').style.filter = \"opacity(0)\";\n      xdoc('et').style.transition = \"1s\";\n    }, 100);\n    setTimeout(() => {\n      xdoc('bri').style.filter = \"opacity(0)\";\n      xdoc('bri').style.transition = \"1s\";\n    }, 500);\n    setTimeout(() => {\n      xdoc('nr').style.filter = \"opacity(0)\";\n      xdoc('nr').style.transition = \"1s\";\n      setTimeout(() => {\n        setTimeout(() => {\n          setTimeout(() => {\n            setTimeout(() => {\n              glimpse();\n              setTimeout(() => {\n                animateDone = true;\n                dude = new Dude(screenWidth / 2 - 310, 50, 50);\n                xdoc('instruction').style.display = \"flex\";\n              }, 650);\n            }, 500);\n            xdoc('errbintorg').style.transition = \"1s\";\n            setTimeout(() => {\n              xdoc('chatbox').style.display = \"flex\";\n            }, 800);\n          }, 2750);\n          xdoc('subtitle').style.color = \"gray\";\n        }, 750);\n      }, 500);\n    }, 1000);\n    setTimeout(() => {\n      xdoc('errbintorg').style.transition = \"2.5s\";\n      xdoc('errbintorg').style.filter = \"opacity(1)\";\n    }, 300);\n  }, 1500);\n}); // FOOD PLACING CLEARANCE, NO TO HIT BOX\n\nfunction clearance(origin) {\n  if (origin < screenWidth / 2 - 310 - 15 || origin > screenWidth / 2 - 310 + 65) {\n    return origin;\n  } else {\n    return screenWidth * (3 / 4);\n  }\n} //FOOD RELEASING IFs\n\n\nfunction releaseFood() {\n  if (igniteFoodOnce && !isGameOver) {\n    vfood = new Food(clearance(Math.random() * (screenWidth - 60) + 30));\n    $(\".foodplive\").html(\"0\");\n  }\n\n  if (!isGameOver) {\n    igniteFoodOnce = false;\n  }\n} // Setting Canvas Dimensions\n\n\n$(window).resize(function () {\n  screenWidth = window.innerWidth;\n  screenHeight = window.innerHeight;\n  canvas.width = screenWidth;\n  canvas.height = screenHeight;\n});\ncanvas.width = screenWidth;\ncanvas.height = screenHeight; //BUTTON NEW GAME\n\nfunction appear() {\n  xdoc(\"buttonnewgame\").style.backgroundColor = \"#FE8D13\";\n  xdoc(\"buttonnewgame\").style.color = \"white\";\n}\n\nsetTimeout(appear, 800); //TRANSPARENT A WHILE\n\nfunction transawhile() {\n  colorbox = \"#888888\";\n  colortrail0 = \"rgba(200,200,200,1)\";\n  colortrail1 = \"rgba(200,200,200,0)\";\n} //CONTROL AREA\n\n\n$(document).keydown(function (e) {\n  if (e.which == 37 || e.which == 65) {\n    if (window.pageYOffset <= $(window).height()) {\n      if (animateDone) {\n        dude.Velocity.X = -5;\n        xdoc(\"instruction\").style.display = \"none\";\n        xdoc(\"chatbox\").style.visibility = \"hidden\";\n        xdoc(\"chatbox\").style.opacity = \"0\";\n        xdoc(\"chatbox\").style.transition = \"visibility 0s 3s, opacity 3s linear\";\n\n        if (!isGameOver) {\n          xdoc('errbintorg').style.filter = \"opacity(0)\";\n        }\n\n        transawhile();\n        releaseShield = true;\n        igniteClear = false;\n        releaseFood();\n      }\n    }\n  } else if (e.which == 39 || e.which == 68) {\n    if (window.pageYOffset <= $(window).height()) {\n      if (animateDone) {\n        dude.Velocity.X = 5;\n        xdoc(\"instruction\").style.display = \"none\";\n        xdoc(\"chatbox\").style.visibility = \"hidden\";\n        xdoc(\"chatbox\").style.opacity = \"0\";\n        xdoc(\"chatbox\").style.transition = \"visibility 0s 3s, opacity 3s linear\";\n\n        if (!isGameOver) {\n          xdoc('errbintorg').style.filter = \"opacity(0)\";\n        }\n\n        transawhile();\n        releaseShield = true;\n        igniteClear = false;\n        releaseFood();\n      }\n    }\n  } else if (e.which == 13 && isSafeOver) {\n    if (window.pageYOffset <= $(window).height()) newGame();\n  }\n});\n$(document).keyup(function () {\n  dude.Velocity.X = 0;\n  dude.Velocity.Y = 0;\n}); //Generates RAINFALL\n\nfunction Shape(posX, width, height) {\n  this.Width = width;\n  this.Height = height;\n  this.Color = \"#000000\";\n  this.gradient = ctx.createLinearGradient(0, 400, 0, 250);\n  this.shadow = 'rgba(0,0,0,0)';\n  this.blur = 0; // Add color stops\n\n  this.gradient.addColorStop(0, '#000000');\n  this.gradient.addColorStop(.2, '#000000');\n  this.gradient.addColorStop(.2, '#555555');\n  this.gradient.addColorStop(.4, '#555555');\n  this.gradient.addColorStop(.4, '#999999');\n  this.gradient.addColorStop(.6, '#999999');\n  this.gradient.addColorStop(.6, '#C7C7C7');\n  this.gradient.addColorStop(.8, '#C7C7C7');\n  this.gradient.addColorStop(.8, '#F5F5F5');\n  this.gradient.addColorStop(1, '#F5F5F5');\n  this.Position = {\n    X: posX,\n    Y: -this.Height\n  };\n  this.Velocity = Math.random() * fallSpeed + accel;\n  this.Index = shapeIndex;\n  shapes[shapeIndex] = this;\n  shapeIndex++;\n\n  this.checkCollisions = function () {\n    if (this.Position.Y >= screenHeight + 175) {\n      delete shapes[this.Index];\n\n      if (releaseShield) {\n        boxspeed++;\n        $(\".scorplive\").html(boxspeed);\n      }\n\n      xdoc('gotrain').innerHTML = boxspeed;\n      $(\".scorp\").html(\"Rain : \" + boxspeed);\n    }\n  };\n\n  this.updatePosition = function () {\n    this.Position.Y += this.Velocity;\n  };\n\n  this.Draw = function (num) {\n    ctx.beginPath();\n\n    switch (num) {\n      case 0:\n        ctx.rect(this.Position.X, this.Position.Y, this.Width, this.Height);\n        this.colorin = colorbox;\n        this.blur = '3';\n        this.shadowBlur = '5';\n        this.shadow = 'gray';\n        break;\n\n      case 1:\n        ctx.rect(this.Position.X, this.Position.Y - 120, this.Width, this.Height * 4);\n        this.grd = ctx.createLinearGradient(pureScreenHeight / 2, this.Position.Y, pureScreenHeight / 2, this.Position.Y - 120);\n        this.grd.addColorStop(0, colortrail0);\n        this.grd.addColorStop(1, colortrail1);\n        this.colorin = this.grd;\n        this.blur = '0';\n        this.shadow = 'rgba(0,0,0,0)';\n        break;\n\n      default:\n        this.colorin = '#000000';\n    }\n\n    ctx.shadowColor = this.shadow;\n    ctx.shadowBlur = this.blur;\n    ctx.fillStyle = this.colorin;\n    ctx.fill();\n  };\n\n  this.update = function () {\n    this.checkCollisions();\n    this.updatePosition();\n    this.Draw(0);\n    this.Draw(1);\n  };\n} //GENERATE FOOD\n\n\nfunction Food(posX) {\n  this.Width = 20;\n  this.Height = 20;\n  this.Color = \"#FF5B14\";\n  this.shadow = 'orange';\n  this.blur = 25;\n  this.PosX = posX;\n  food = this;\n\n  this.Draw = function () {\n    ctx.shadowColor = this.shadow;\n    ctx.shadowBlur = this.blur;\n    ctx.beginPath();\n    ctx.rect(this.PosX, screenHeight - 38, 20, 20);\n    ctx.fillStyle = this.Color;\n    ctx.fill();\n  };\n\n  this.update = function () {\n    this.Draw();\n  };\n} //GENERATE BOX\n\n\nfunction Dude(posX, width, height) {\n  this.Width = width;\n  this.Height = height;\n  this.Position = {\n    X: posX,\n    Y: screenHeight - this.Height\n  };\n  this.Velocity = {\n    X: 0,\n    Y: 0\n  };\n  this.Color = \"#FF5B14\";\n  this.blur = 25;\n  this.shadow = 'orange';\n  xdoc(\"chatbox\").style.top = screenHeight - 135 + \"px\";\n  xdoc(\"ohnobox\").style.top = screenHeight - 135 + \"px\";\n  xdude = this;\n\n  this.checkCollisions = function () {\n    function collision(a, b) {\n      if (a.Position.X <= b.Position.X + b.Width && a.Position.X + a.Width >= b.Position.X && a.Position.Y + a.Height >= b.Position.Y && a.Position.Y <= b.Position.Y + b.Height && releaseShield) {\n        return true;\n      }\n    }\n\n    for (i in shapes) {\n      if (collision(this, shapes[i])) {\n        endscore = score;\n        gameOver(boxspeed);\n        this.Color = \"#000000\";\n        this.shadow = \"#000000\";\n      }\n    }\n\n    this.checkEaten = function () {\n      function eat(a, b) {\n        if (a.Position.X <= b.PosX + b.Width && a.Position.X + a.Width >= b.PosX && releaseShield) {\n          return true;\n        }\n      }\n\n      if (eat(this, food)) {\n        if (!isGameOver) {\n          greetinganimation++;\n\n          if (greetinganimation % 10 == 0) {\n            glimpseSpecial();\n          } else if (greetinganimation % 5 == 0) {\n            glimpse();\n          }\n\n          ;\n        }\n\n        $(\".foodplive\").html(greetinganimation);\n        $(\".endfoodplive\").html(\"Food : \" + greetinganimation);\n        vfood = null;\n\n        if (!isGameOver) {\n          vfood = new Food(Math.random() * (screenWidth - 60) + 30);\n        }\n      }\n    };\n  };\n\n  setInterval(() => {\n    if (releaseShield) {\n      $(\".foodplive\").html(greetinganimation);\n    }\n  }, 100);\n\n  this.updatePosition = function () {\n    if (this.Position.X > 2 && this.Position.X <= screenWidth - 55) {\n      this.Position.X += this.Velocity.X;\n    } else if (this.Position.X < 5) {\n      this.Position.X += 2;\n    } else if (this.Position.X > screenWidth - 55) {\n      this.Position.X -= 1;\n    }\n\n    this.Position.Y += this.Velocity.Y;\n    xdoc(\"chatbox\").style.left = this.Position.X + 76 + \"px\";\n    xdoc(\"ohnobox\").style.left = this.Position.X + 76 + \"px\";\n  };\n\n  this.Draw = function () {\n    ctx.shadowColor = this.shadow;\n    ctx.shadowBlur = this.blur;\n    ctx.beginPath();\n    ctx.rect(this.Position.X, this.Position.Y, this.Width, this.Height);\n    ctx.fillStyle = this.Color;\n    ctx.fill();\n  };\n\n  this.update = function () {\n    this.checkCollisions();\n    this.checkEaten();\n    this.updatePosition();\n    this.Draw();\n  };\n} //MAIN FUNCTION RUN GAME\n//THE FUNC TO MAKE NEW GAME\n\n\nfunction newGame() {\n  xdoc(\"rankcontainer\").style.filter = `opacity(0)`;\n  xdoc('errbintorg').style.filter = \"opacity(0)\";\n  $(\".scorplive\").html(\"0\");\n  boxspeed = 0;\n  xdoc(\"scoring\").style.display = \"none\";\n  setTimeout(awaiter, 2000);\n\n  function awaiter() {\n    xdoc(\"subtitle\").innerHTML = \"A FULLSTACK DEVELOPER\";\n    xdoc(\"subtitle\").style.color = \"gray\";\n    xdoc(\"balancer\").style.display = \"unset\";\n    dude = new Dude(xdude.Position.X, 50, 50);\n    shapes = {};\n    $(\"#container\").append(\"<h2>\" + score + \"</h2>\");\n    score = 0;\n    fallSpeed = 4;\n    accel = 5;\n    xdoc(\"instruction\").style.display = \"flex\";\n    xdoc(\"scorlive\").style.display = \"unset\";\n    greetinganimation = 0;\n    isGameOver = false;\n    xdoc(\"scorlive\").style.display = \"flex\";\n    $(\".foodplive\").html(greetinganimation);\n    document.getElementsByClassName('eachrank')[9].style.display = \"flex\";\n\n    for (let i = 0; i < 10; i++) {\n      newposition[i].style.display = \"none\";\n    }\n  }\n\n  xdoc(\"blurred\").style.transform = \"translateX(240px)\";\n  isSafeOver = false; //KEDIP NEW GAME EFFECT(GLIMPSE)\n\n  glimpse();\n  xdoc(\"buttonnewgame\").style.transform = `translateX(${screenWidth / 2}px)`;\n  pausescore = false;\n} //THE FUNC TO OVER THE GAME\n\n\nfunction gameOver() {\n  newrankz = [boxspeed, greetinganimation];\n  resort();\n  xdoc('errbintorg').style.filter = \"opacity(1)\";\n  xdoc(\"subtitle\").innerHTML = \"GAME OVER\";\n  xdoc(\"subtitle\").style.color = \"black\";\n  xdoc(\"buttonnewgame\").style.transform = \"translateX(0)\";\n  xdoc(\"balancer\").style.display = \"none\";\n  xdoc(\"instruction\").style.display = \"none\";\n  xdoc(\"chatbox\").style.display = \"none\";\n  xdoc(\"ohnobox\").style.visibility = \"unset\";\n  xdoc(\"ohnobox\").style.opacity = \"1\";\n  xdoc(\"ohnobox\").style.transition = \"unset\";\n  xdoc(\"scoring\").style.display = \"flex\";\n  xdoc(\"scorlive\").style.display = \"none\";\n  xdoc('btnsend').value = boxspeed + \"|\" + greetinganimation;\n  xdoc('gotfood').innerHTML = greetinganimation;\n  xdoc(\"blurred\").style.transform = \"translateX(0)\";\n  setTimeout(() => {\n    xdoc(\"rankcontainer\").style.filter = `unset`;\n  }, 500);\n  fallSpeed = 0;\n  accel = 0;\n  pausescore = true;\n  vfood = null;\n  food.PosX = null;\n  igniteFoodOnce = false;\n  isGameOver = true;\n  $(\".endfoodplive\").html(\"Food : \" + greetinganimation);\n\n  function fadeOutNo() {\n    xdoc(\"ohnobox\").style.visibility = \"hidden\";\n    xdoc(\"ohnobox\").style.opacity = \"0\";\n    xdoc(\"ohnobox\").style.transition = \"visibility 0s 2s, opacity 2s linear\";\n  }\n\n  setTimeout(fadeOutNo, 500);\n  setTimeout(() => {\n    isSafeOver = true;\n  }, 1000);\n\n  function resetIgniteFoodOnce() {\n    igniteFoodOnce = true;\n  }\n\n  setTimeout(resetIgniteFoodOnce, 2000);\n} //MAKE NEW RAINDROP\n\n\nfunction shapeGenerate() {\n  if (!isGameOver && animateDone) {\n    new Shape(clearanceStart(Math.random() * screenWidth), 30, 30);\n  }\n} //KIND OF SHIELD BEFORE PLAY\n\n\nfunction clearanceStart(coor) {\n  if (coor > screenWidth / 2 - 310 - 30 && coor < screenWidth / 2 - 310 + 50 && igniteClear) {\n    returned = screenWidth - 30;\n  } else {\n    returned = coor;\n  }\n\n  return returned;\n} //SCREEN UPDATER\n\n\nfunction Updater() {\n  ctx.clearRect(0, 0, screenWidth, screenHeight);\n\n  for (i in shapes) {\n    shapes[i].update();\n  }\n\n  if (animateDone) {\n    dude.update();\n\n    if (!isGameOver && releaseShield) {\n      vfood.update();\n    }\n  } // requestAnimationFrame(Updater);\n\n}\n\nsetInterval(Updater, 10); //MAKE NEW SHAPE EVERY INTERVAL\n\nsetInterval(shapeGenerate, shapeGenerateSpeed); //NEW RANK LIST\n\nfunction placerank(posparam) {\n  switch (posparam) {\n    case 1:\n      newposition[0].style.display = \"flex\";\n      break;\n\n    case 2:\n      newposition[1].style.display = \"flex\";\n      break;\n\n    case 3:\n      newposition[2].style.display = \"flex\";\n      break;\n\n    case 4:\n      newposition[3].style.display = \"flex\";\n      break;\n\n    case 5:\n      newposition[4].style.display = \"flex\";\n      break;\n\n    case 6:\n      newposition[5].style.display = \"flex\";\n      break;\n\n    case 7:\n      newposition[6].style.display = \"flex\";\n      break;\n\n    case 8:\n      newposition[7].style.display = \"flex\";\n      break;\n\n    case 9:\n      newposition[8].style.display = \"flex\";\n      break;\n\n    default:\n      break;\n  }\n\n  if (posparam < 11) {\n    document.getElementsByClassName('eachrank')[9].style.display = \"none\";\n  }\n}\n\nfunction resort() {\n  rankpos = 0;\n\n  for (var i = 0; i < rankz.length; i++) {\n    if (newrankz[1] <= rankz[i][0]) {\n      if (newrankz[1] == rankz[i][0]) {\n        if (newrankz[0] >= rankz[i][1]) {\n          rankpos++;\n        }\n      } else {\n        rankpos++;\n      }\n    }\n  }\n\n  placerank(rankpos);\n  rankpos++;\n  xdoc('rankedas').innerHTML = \"#\" + rankpos;\n}","map":{"version":3,"sources":["R:/Code/trynext/assets/js/gamescript.js"],"names":["xdoc","idname","document","getElementById","canvas","ctx","getContext","screenHeight","$","window","height","screenWidth","width","shapes","food","xdude","dude","shapeIndex","score","fallSpeed","shapeGenerateSpeed","accel","boxspeed","releaseShield","isGameOver","isSafeOver","igniteFoodOnce","greetinganimation","igniteClear","animateDone","colorbox","colortrail0","colortrail1","newrankz","style","top","transform","filter","visibility","opacity","getElementsByClassName","display","newposition","glimpse","setTimeout","transition","glimpseSpecial","gli","addEventListener","Dude","color","clearance","origin","releaseFood","vfood","Food","Math","random","html","resize","innerWidth","innerHeight","appear","backgroundColor","transawhile","keydown","e","which","pageYOffset","Velocity","X","newGame","keyup","Y","Shape","posX","Width","Height","Color","gradient","createLinearGradient","shadow","blur","addColorStop","Position","Index","checkCollisions","innerHTML","updatePosition","Draw","num","beginPath","rect","colorin","shadowBlur","grd","pureScreenHeight","shadowColor","fillStyle","fill","update","PosX","collision","a","b","i","endscore","gameOver","checkEaten","eat","setInterval","left","awaiter","append","pausescore","resort","value","fadeOutNo","resetIgniteFoodOnce","shapeGenerate","clearanceStart","coor","returned","Updater","clearRect","placerank","posparam","rankpos","rankz","length"],"mappings":"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","sourcesContent":["function xdoc(idname){\r\n    return document.getElementById(idname);\r\n}\r\n\r\n\r\n// Global Variables\r\nvar canvas = xdoc('canvas');\r\nvar ctx = canvas.getContext('2d');\r\nvar screenHeight = $(window).height()-60;\r\nvar screenWidth = $(window).width();\r\nvar shapes = {};\r\nvar food = {};\r\nvar xdude = {};\r\nvar dude = {};\r\nvar shapeIndex = 0;\r\nvar score = 0; \r\nvar fallSpeed = 4;\r\nvar shapeGenerateSpeed = 100;\r\nvar accel = 5;\r\nvar boxspeed = 0;\r\nvar releaseShield = false;\r\nvar isGameOver = false;\r\nvar isSafeOver = false;\r\nvar igniteFoodOnce = true;\r\nvar greetinganimation = 0;\r\nvar igniteClear = true;\r\nvar animateDone = false;\r\nvar colorbox = \"rgb(210,210,210)\";\r\nvar colortrail0 = \"rgba(220,220,220,1)\";\r\nvar colortrail1 = \"rgba(220,220,220,0)\";\r\nvar newrankz = [];\r\n\r\n//MAIN DOM\r\nxdoc(\"instruction\").style.top = screenHeight-38 + \"px\";\r\nxdoc(\"scoring\").style.top = screenHeight-48 + \"px\";\r\nxdoc(\"scorlive\").style.top = 10 + \"px\";\r\nxdoc(\"buttonnewgame\").style.transform = `translateX(${screenWidth/2}px)`;\r\nxdoc(\"rankcontainer\").style.filter = `opacity(0)`;\r\nxdoc(\"ohnobox\").style.visibility=\"hidden\";\r\nxdoc(\"ohnobox\").style.opacity=\"0\";\r\ndocument.getElementsByClassName('eachrank')[9].style.display = \"flex\";\r\n\r\nvar newposition = document.getElementsByClassName('newrank');\r\n\r\n//glimpse EFFECTS\r\nfunction glimpse() {\r\n    setTimeout(() => {\r\n        xdoc('et').style.filter = \"opacity(1)\";\r\n        xdoc('et').style.transition = \"0.35s\";\r\n        setTimeout(() => {\r\n                xdoc('et').style.filter = \"opacity(0)\";\r\n            }, 200);\r\n        }, 0);\r\n        setTimeout(() => {\r\n            xdoc('nr').style.filter = \"opacity(1)\";\r\n            xdoc('nr').style.transition = \"0.35s\";\r\n            setTimeout(() => {\r\n                xdoc('nr').style.filter = \"opacity(0)\";\r\n            }, 200);\r\n        }, 150);\r\n        setTimeout(() => {\r\n            xdoc('bri').style.filter = \"opacity(1)\";\r\n            xdoc('bri').style.transition = \"0.35s\";\r\n            setTimeout(() => {\r\n                xdoc('bri').style.filter = \"opacity(0)\";\r\n            }, 200);\r\n        }, 400);\r\n    }\r\nfunction glimpseSpecial() {\r\n    \r\n    this.gli = () => {\r\n        xdoc('et').style.filter = \"opacity(1)\";\r\n        xdoc('et').style.transition = \"0.35s\";\r\n        setTimeout(() => {\r\n            xdoc('et').style.filter = \"opacity(0)\";\r\n        }, 200);\r\n        \r\n        xdoc('nr').style.filter = \"opacity(1)\";\r\n        xdoc('nr').style.transition = \"0.35s\";\r\n        setTimeout(() => {\r\n            xdoc('nr').style.filter = \"opacity(0)\";\r\n        }, 200);\r\n        \r\n        xdoc('bri').style.filter = \"opacity(1)\";\r\n        xdoc('bri').style.transition = \"0.35s\";\r\n        setTimeout(() => {\r\n            xdoc('bri').style.filter = \"opacity(0)\";\r\n        }, 200);  \r\n    };\r\n\r\n    this.gli();\r\n    setTimeout(() => {\r\n        this.gli();\r\n        setTimeout(() => {\r\n           this.gli();\r\n        }, 600);\r\n    }, 600);\r\n}\r\n\r\n//KEDIP KEDIP\r\nwindow.addEventListener('load', () => {\r\n    setTimeout(() => {\r\n                setTimeout(() => {\r\n                    xdoc('et').style.filter = \"opacity(0)\";\r\n                    xdoc('et').style.transition = \"1s\";\r\n                }, 100);\r\n                setTimeout(() => {\r\n                    xdoc('bri').style.filter = \"opacity(0)\";\r\n                    xdoc('bri').style.transition = \"1s\";\r\n                }, 500);\r\n\r\n                setTimeout(() => {\r\n                    xdoc('nr').style.filter = \"opacity(0)\";\r\n                    xdoc('nr').style.transition = \"1s\";\r\n                    setTimeout(() => {\r\n                        setTimeout(() => {\r\n                            setTimeout(() => {\r\n                                setTimeout(() => {\r\n                                    glimpse();\r\n                                    setTimeout(() => {\r\n                                        animateDone = true;\r\n                                        dude = new Dude(screenWidth/2-310, 50, 50);\r\n                                        xdoc('instruction').style.display = \"flex\";\r\n                                    }, 650);\r\n                                }, 500);\r\n                                xdoc('errbintorg').style.transition = \"1s\";\r\n                                setTimeout(() => {\r\n                                    xdoc('chatbox').style.display = \"flex\";\r\n                                }, 800);\r\n                            }, 2750);\r\n                            xdoc('subtitle').style.color = \"gray\";\r\n                        }, 750);\r\n                    }, 500);\r\n                }, 1000);\r\n                setTimeout(() => {\r\n                    xdoc('errbintorg').style.transition = \"2.5s\";\r\n                    xdoc('errbintorg').style.filter = \"opacity(1)\";\r\n                }, 300);\r\n    }, 1500);\r\n})\r\n    \r\n// FOOD PLACING CLEARANCE, NO TO HIT BOX\r\nfunction clearance(origin){\r\n    if( \r\n        origin < (screenWidth/2-310)-15 || \r\n        origin > (screenWidth/2-310)+65\r\n    ){\r\n        return origin;\r\n    }else{\r\n        return screenWidth*(3/4);\r\n    }\r\n}\r\n\r\n//FOOD RELEASING IFs\r\nfunction releaseFood(){\r\n    if (igniteFoodOnce && !isGameOver) {\r\n        vfood = new Food(clearance((Math.random()*(screenWidth-60))+30));\r\n        $(\".foodplive\").html(\"0\");\r\n    }\r\n    if (!isGameOver) {\r\n        igniteFoodOnce = false;\r\n    }\r\n}\r\n\r\n\r\n// Setting Canvas Dimensions\r\n$(window).resize(function(){\r\n    screenWidth = window.innerWidth;\r\n    screenHeight = window.innerHeight;\r\n    canvas.width = screenWidth;\r\n    canvas.height = screenHeight;\r\n});\r\ncanvas.width = screenWidth;\r\ncanvas.height = screenHeight;\r\n\r\n//BUTTON NEW GAME\r\nfunction appear(){\r\n    xdoc(\"buttonnewgame\").style.backgroundColor = \"#FE8D13\";\r\n    xdoc(\"buttonnewgame\").style.color = \"white\";\r\n}setTimeout(appear,800);\r\n\r\n\r\n//TRANSPARENT A WHILE\r\nfunction transawhile() {\r\n        colorbox = \"#888888\";\r\n        colortrail0 = \"rgba(200,200,200,1)\";\r\n        colortrail1 = \"rgba(200,200,200,0)\";\r\n}\r\n\r\n//CONTROL AREA\r\n$(document).keydown(function(e){\r\n    if (e.which == 37 || e.which == 65){\r\n        if(window.pageYOffset <= $(window).height()){\r\n            if (animateDone) {\r\n                dude.Velocity.X = -5;\r\n\r\n                xdoc(\"instruction\").style.display = \"none\";\r\n                xdoc(\"chatbox\").style.visibility=\"hidden\";\r\n                xdoc(\"chatbox\").style.opacity=\"0\";\r\n                xdoc(\"chatbox\").style.transition=\"visibility 0s 3s, opacity 3s linear\";\r\n                if (!isGameOver) {\r\n                    xdoc('errbintorg').style.filter =\"opacity(0)\";\r\n                }\r\n                \r\n                transawhile();\r\n\r\n                releaseShield = true;\r\n                igniteClear = false;\r\n                releaseFood();\r\n            }\r\n        }\r\n    } else if (e.which == 39 || e.which == 68){\r\n        if(window.pageYOffset <= $(window).height()){\r\n            if (animateDone) {\r\n                dude.Velocity.X = 5;\r\n                \r\n                xdoc(\"instruction\").style.display = \"none\";\r\n                xdoc(\"chatbox\").style.visibility=\"hidden\";\r\n                xdoc(\"chatbox\").style.opacity=\"0\";\r\n                xdoc(\"chatbox\").style.transition=\"visibility 0s 3s, opacity 3s linear\";\r\n                if (!isGameOver) {\r\n                    xdoc('errbintorg').style.filter =\"opacity(0)\";\r\n                }\r\n\r\n                transawhile();\r\n\r\n                releaseShield = true;\r\n                igniteClear = false;\r\n                releaseFood();\r\n            }\r\n        }\r\n    }else if (e.which == 13 && isSafeOver) {\r\n        if(window.pageYOffset <= $(window).height()) newGame();\r\n    }\r\n});\r\n\r\n$(document).keyup(function(){\r\n    dude.Velocity.X = 0;\r\n    dude.Velocity.Y = 0;\r\n});\r\n    \r\n\r\n    \r\n\r\n\r\n\r\n//Generates RAINFALL\r\nfunction Shape(posX, width, height) {\r\n    this.Width = width;\r\n    this.Height = height;\r\n    this.Color = \"#000000\"\r\n    this.gradient = ctx.createLinearGradient(0,400, 0,250);\r\n    this.shadow = 'rgba(0,0,0,0)';\r\n    this.blur = 0;\r\n\r\n    // Add color stops\r\n    this.gradient.addColorStop(0, '#000000');\r\n    this.gradient.addColorStop(.2, '#000000');\r\n    this.gradient.addColorStop(.2, '#555555');\r\n    this.gradient.addColorStop(.4, '#555555');\r\n    this.gradient.addColorStop(.4, '#999999');\r\n    this.gradient.addColorStop(.6, '#999999');\r\n    this.gradient.addColorStop(.6, '#C7C7C7');\r\n    this.gradient.addColorStop(.8, '#C7C7C7');\r\n    this.gradient.addColorStop(.8, '#F5F5F5');\r\n    this.gradient.addColorStop(1, '#F5F5F5');\r\n\r\n    this.Position = {\r\n        X: posX,\r\n        Y: -this.Height\r\n    };\r\n    this.Velocity = Math.random() * fallSpeed + accel;\r\n    this.Index = shapeIndex;\r\n    \r\n    shapes[shapeIndex] = this;\r\n    shapeIndex++\r\n    \r\n    this.checkCollisions = function() {\r\n        if(this.Position.Y >= screenHeight+175){\r\n            delete shapes[this.Index];\r\n            if (releaseShield) {\r\n                boxspeed++;\r\n                $(\".scorplive\").html(boxspeed);\r\n            }\r\n            \r\n            xdoc('gotrain').innerHTML = boxspeed;\r\n            $(\".scorp\").html(\"Rain : \" + boxspeed);\r\n        }\r\n    }\r\n\r\n    this.updatePosition = function() {\r\n        this.Position.Y += this.Velocity;\r\n    }\r\n\r\n    this.Draw = function(num) {\r\n            ctx.beginPath();\r\n            switch(num) {\r\n                case 0:\r\n                    ctx.rect(this.Position.X, this.Position.Y, this.Width, this.Height);\r\n                    this.colorin = colorbox;\r\n                    this.blur = '3';\r\n                    this.shadowBlur = '5';\r\n                    this.shadow = 'gray';\r\n                break;\r\n                case 1:\r\n                    ctx.rect(this.Position.X, this.Position.Y-120, this.Width, this.Height*4);\r\n                    this.grd = ctx.createLinearGradient(pureScreenHeight/2, this.Position.Y, pureScreenHeight/2, this.Position.Y-120 );\r\n                    this.grd.addColorStop(0, colortrail0);\r\n                    this.grd.addColorStop(1, colortrail1);\r\n                    this.colorin = this.grd;\r\n                    this.blur = '0';\r\n                    this.shadow = 'rgba(0,0,0,0)';\r\n                break;\r\n                default:\r\n                this.colorin = '#000000';\r\n            }\r\n            ctx.shadowColor = this.shadow;\r\n            ctx.shadowBlur = this.blur;\r\n            ctx.fillStyle = this.colorin;\r\n            ctx.fill();\r\n    }\r\n\r\n    this.update = function(){\r\n        this.checkCollisions();\r\n        this.updatePosition();\r\n        this.Draw(0);\r\n        this.Draw(1);\r\n    }\r\n}\r\n\r\n//GENERATE FOOD\r\nfunction Food(posX){\r\n    this.Width = 20;\r\n    this.Height = 20;\r\n    this.Color = \"#FF5B14\";\r\n    this.shadow = 'orange';\r\n    this.blur = 25;\r\n    this.PosX = posX;\r\n\r\n    food = this;\r\n\r\n    this.Draw = function(){\r\n    ctx.shadowColor = this.shadow;\r\n    ctx.shadowBlur = this.blur;\r\n    ctx.beginPath();\r\n    ctx.rect(this.PosX, screenHeight-38, 20, 20);\r\n    ctx.fillStyle = this.Color;\r\n    ctx.fill();\r\n    }\r\n\r\n    this.update = function(){\r\n        this.Draw();\r\n    }\r\n    \r\n}\r\n\r\n//GENERATE BOX\r\nfunction Dude(posX, width, height){\r\n    this.Width = width;\r\n    this.Height = height;\r\n    this.Position = {X: posX, Y: screenHeight-this.Height}\r\n    this.Velocity = {X: 0, Y: 0,}\r\n    this.Color = \"#FF5B14\"\r\n    this.blur = 25;\r\n    this.shadow = 'orange';\r\n\r\n    xdoc(\"chatbox\").style.top = screenHeight-135 + \"px\";\r\n    xdoc(\"ohnobox\").style.top = screenHeight-135 + \"px\";\r\n\r\n    xdude = this;\r\n\r\n    this.checkCollisions = function(){\r\n        function collision(a,b){\r\n            if (\r\n                a.Position.X <= b.Position.X + b.Width &&\r\n                a.Position.X + a.Width >= b.Position.X &&\r\n                a.Position.Y + a.Height >= b.Position.Y &&\r\n                a.Position.Y <= b.Position.Y + b.Height &&\r\n                releaseShield\r\n                ){\r\n                    return true\r\n                }\r\n    }\r\n    for (i in shapes){\r\n        if(collision(this, shapes[i])){\r\n            endscore = score\r\n            gameOver(boxspeed);\r\n            this.Color = \"#000000\";\r\n            this.shadow = \"#000000\";\r\n        }\r\n    }\r\n\r\n    this.checkEaten = function(){\r\n        function eat(a,b){\r\n            if (\r\n                a.Position.X <= b.PosX + b.Width &&\r\n                a.Position.X + a.Width >= b.PosX &&\r\n                releaseShield\r\n                ){\r\n                    return true\r\n                }\r\n            }\r\n\r\n            if(eat(this, food)){\r\n                if (!isGameOver) {\r\n                    greetinganimation++;\r\n                    if (greetinganimation % 10 == 0) {\r\n                        glimpseSpecial();\r\n                    } else if (greetinganimation % 5 == 0){\r\n                        glimpse();\r\n                    };\r\n                }\r\n                $(\".foodplive\").html(greetinganimation);\r\n                $(\".endfoodplive\").html(\"Food : \" + greetinganimation);\r\n                vfood = null;\r\n                if (!isGameOver) {\r\n                    vfood = new Food((Math.random()*(screenWidth-60))+30);\r\n                }\r\n            }\r\n        }\r\n    }   \r\n    \r\n    setInterval(() => {\r\n        if (releaseShield) {\r\n            $(\".foodplive\").html(greetinganimation);\r\n        }\r\n    }, 100);\r\n\r\n    this.updatePosition = function(){\r\n        if (this.Position.X > 2 && this.Position.X <= screenWidth-55) {   \r\n            this.Position.X += this.Velocity.X;\r\n        }else if(this.Position.X < 5){\r\n            this.Position.X += 2;\r\n        }else if(this.Position.X > screenWidth-55){\r\n            this.Position.X -= 1;        \r\n        }\r\n        \r\n        this.Position.Y += this.Velocity.Y;\r\n        xdoc(\"chatbox\").style.left = this.Position.X+76 + \"px\";\r\n        xdoc(\"ohnobox\").style.left = this.Position.X+76 + \"px\";\r\n    }\r\n\r\n    this.Draw = function(){\r\n        ctx.shadowColor = this.shadow;\r\n        ctx.shadowBlur = this.blur;\r\n        ctx.beginPath();\r\n        ctx.rect(this.Position.X, this.Position.Y, this.Width, this.Height);\r\n        ctx.fillStyle = this.Color;\r\n        ctx.fill();\r\n    }\r\n\r\n    this.update = function(){\r\n        this.checkCollisions();\r\n        this.checkEaten();\r\n        this.updatePosition();\r\n        this.Draw();\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n//MAIN FUNCTION RUN GAME\r\n\r\n//THE FUNC TO MAKE NEW GAME\r\nfunction newGame(){\r\n\r\n    xdoc(\"rankcontainer\").style.filter = `opacity(0)`;\r\n    xdoc('errbintorg').style.filter =\"opacity(0)\";\r\n    $(\".scorplive\").html(\"0\");\r\n    boxspeed = 0;\r\n    xdoc(\"scoring\").style.display = \"none\";\r\n    setTimeout(awaiter,2000)\r\n    function awaiter(){\r\n        xdoc(\"subtitle\").innerHTML = \"A FULLSTACK DEVELOPER\";\r\n        xdoc(\"subtitle\").style.color = \"gray\";\r\n        xdoc(\"balancer\").style.display = \"unset\";\r\n        dude = new Dude(xdude.Position.X, 50, 50);\r\n        shapes = {};\r\n        $(\"#container\").append(\"<h2>\"+score+\"</h2>\");\r\n        score = 0;\r\n        fallSpeed = 4;\r\n        accel = 5;\r\n        xdoc(\"instruction\").style.display = \"flex\";\r\n        xdoc(\"scorlive\").style.display = \"unset\";\r\n        greetinganimation = 0;\r\n        isGameOver = false;\r\n        xdoc(\"scorlive\").style.display = \"flex\";\r\n        $(\".foodplive\").html(greetinganimation);\r\n        document.getElementsByClassName('eachrank')[9].style.display = \"flex\";\r\n    \r\n        for (let i = 0; i < 10; i++) {\r\n            newposition[i].style.display = \"none\";           \r\n        }\r\n\r\n    }   \r\n    xdoc(\"blurred\").style.transform = \"translateX(240px)\";\r\n        isSafeOver = false;\r\n\r\n        //KEDIP NEW GAME EFFECT(GLIMPSE)\r\n        glimpse();\r\n        \r\n        xdoc(\"buttonnewgame\").style.transform = `translateX(${screenWidth/2}px)`;\r\n        pausescore = false;\r\n    }\r\n    \r\n//THE FUNC TO OVER THE GAME\r\n\r\nfunction gameOver(){\r\n    newrankz = [boxspeed,greetinganimation];\r\n    resort();\r\n    \r\n    xdoc('errbintorg').style.filter =\"opacity(1)\";\r\n    xdoc(\"subtitle\").innerHTML = \"GAME OVER\";\r\n    xdoc(\"subtitle\").style.color = \"black\";\r\n    xdoc(\"buttonnewgame\").style.transform = \"translateX(0)\";\r\n    xdoc(\"balancer\").style.display = \"none\";\r\n    xdoc(\"instruction\").style.display = \"none\";\r\n    xdoc(\"chatbox\").style.display = \"none\"; \r\n    xdoc(\"ohnobox\").style.visibility=\"unset\";\r\n    xdoc(\"ohnobox\").style.opacity=\"1\";\r\n    xdoc(\"ohnobox\").style.transition=\"unset\";\r\n    xdoc(\"scoring\").style.display = \"flex\";\r\n    xdoc(\"scorlive\").style.display = \"none\";\r\n    xdoc('btnsend').value = boxspeed + \"|\" + greetinganimation;\r\n    xdoc('gotfood').innerHTML = greetinganimation;\r\n    \r\n    xdoc(\"blurred\").style.transform = \"translateX(0)\";\r\n\r\n    setTimeout(() => {\r\n        xdoc(\"rankcontainer\").style.filter = `unset`;\r\n    }, 500);\r\n    \r\n    fallSpeed = 0;\r\n    accel = 0;\r\n    pausescore = true;\r\n    vfood = null;\r\n    food.PosX = null;\r\n    igniteFoodOnce = false;\r\n    isGameOver = true;\r\n    \r\n    $(\".endfoodplive\").html(\"Food : \" + greetinganimation)\r\n    function fadeOutNo(){\r\n        xdoc(\"ohnobox\").style.visibility=\"hidden\";\r\n        xdoc(\"ohnobox\").style.opacity=\"0\";\r\n        xdoc(\"ohnobox\").style.transition=\"visibility 0s 2s, opacity 2s linear\";\r\n    }setTimeout(fadeOutNo,500);\r\n    \r\n    setTimeout(() => {\r\n        isSafeOver = true;\r\n    }, 1000);\r\n\r\n    function resetIgniteFoodOnce(){\r\n        igniteFoodOnce = true;\r\n    }setTimeout(resetIgniteFoodOnce,2000);\r\n}\r\n\r\n//MAKE NEW RAINDROP\r\nfunction shapeGenerate(){\r\n    if (!isGameOver && animateDone) {\r\n        new Shape(clearanceStart(Math.random()*screenWidth),30,30);\r\n    }\r\n}\r\n\r\n//KIND OF SHIELD BEFORE PLAY\r\nfunction clearanceStart(coor){\r\n    \r\n    if (coor > (screenWidth/2-310)-30 && coor < (screenWidth/2-310)+50 && igniteClear) {        \r\n        returned = screenWidth-30;\r\n    }else{\r\n        returned = coor;\r\n    }\r\n    return returned;\r\n}\r\n\r\n//SCREEN UPDATER\r\nfunction Updater() {\r\n        ctx.clearRect(0, 0, screenWidth, screenHeight);\r\n        for(i in shapes){\r\n            shapes[i].update();\r\n        }\r\n        if (animateDone) {\r\n            dude.update();\r\n            if (!isGameOver && releaseShield) {\r\n                vfood.update();\r\n            }\r\n        }\r\n        \r\n    // requestAnimationFrame(Updater);\r\n}setInterval(Updater, 10);\r\n\r\n//MAKE NEW SHAPE EVERY INTERVAL\r\nsetInterval(shapeGenerate, shapeGenerateSpeed);\r\n\r\n\r\n//NEW RANK LIST\r\n\r\nfunction placerank(posparam) {\r\n    switch (posparam) {\r\n        case 1:\r\n            newposition[0].style.display = \"flex\";\r\n            break;\r\n        case 2:\r\n            newposition[1].style.display = \"flex\";\r\n            break;\r\n        case 3:\r\n            newposition[2].style.display = \"flex\";\r\n            break;\r\n        case 4:\r\n            newposition[3].style.display = \"flex\";\r\n            break;\r\n        case 5:\r\n            newposition[4].style.display = \"flex\";\r\n            break;\r\n        case 6:\r\n            newposition[5].style.display = \"flex\";\r\n            break;\r\n        case 7:\r\n            newposition[6].style.display = \"flex\";\r\n            break;\r\n        case 8:\r\n            newposition[7].style.display = \"flex\";\r\n            break;\r\n        case 9:\r\n            newposition[8].style.display = \"flex\";\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n\r\n    if (posparam<11) {\r\n        document.getElementsByClassName('eachrank')[9].style.display = \"none\";\r\n    }\r\n}\r\n\r\n\r\nfunction resort() {\r\n    rankpos = 0;\r\n    for(var i=0;i< rankz.length;i++){\r\n        \r\n        if (newrankz[1] <= rankz[i][0]) {\r\n            if (newrankz[1] == rankz[i][0]) {\r\n                if (newrankz[0]>=rankz[i][1]) {\r\n                    rankpos++;\r\n                }\r\n            }else{\r\n                rankpos++;\r\n            }\r\n        }\r\n    }\r\n    \r\n    placerank(rankpos);\r\n\r\n    rankpos++\r\n    xdoc('rankedas').innerHTML = \"#\" + rankpos;\r\n    \r\n}"]},"metadata":{},"sourceType":"script"}